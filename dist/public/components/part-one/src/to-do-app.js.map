{"version":3,"sources":["../../../../../src/public/components/part-one/src/to-do-app.js"],"names":["template","document","createElement","innerHTML","TodoApp","_shadowRoot","attachShadow","appendChild","content","cloneNode","$todoList","querySelector","$input","$submitButton","addEventListener","_addTodo","bind","e","_todos","splice","detail","_renderTodoList","todo","Object","assign","checked","value","length","push","text","forEach","index","$todoItem","setAttribute","_removeTodo","_toggleTodo","HTMLElement","window","customElements","define"],"mappings":";;;;AAAA;;;;;;;;AAEA,IAAMA,WAAWC,SAASC,aAAT,CAAuB,UAAvB,CAAjB;AACAF,SAASG,SAAT;;IA6BMC,O;;;AACF,uBAAc;AAAA;;AAAA;;AAEV,cAAKC,WAAL,GAAmB,MAAKC,YAAL,CAAkB,EAAE,QAAQ,MAAV,EAAlB,CAAnB;AACA,cAAKD,WAAL,CAAiBE,WAAjB,CAA6BP,SAASQ,OAAT,CAAiBC,SAAjB,CAA2B,IAA3B,CAA7B;;AAEA,cAAKC,SAAL,GAAiB,MAAKL,WAAL,CAAiBM,aAAjB,CAA+B,IAA/B,CAAjB;AACA,cAAKC,MAAL,GAAc,MAAKP,WAAL,CAAiBM,aAAjB,CAA+B,OAA/B,CAAd;;AAEA,cAAKE,aAAL,GAAqB,MAAKR,WAAL,CAAiBM,aAAjB,CAA+B,QAA/B,CAArB;AACA,cAAKE,aAAL,CAAmBC,gBAAnB,CAAoC,OAApC,EAA6C,MAAKC,QAAL,CAAcC,IAAd,OAA7C;AATU;AAUb;;;;oCAEWC,C,EAAG;AACX,iBAAKC,MAAL,CAAYC,MAAZ,CAAmBF,EAAEG,MAArB,EAA6B,CAA7B;AACA,iBAAKC,eAAL;AACH;;;oCAEWJ,C,EAAG;AACX,gBAAMK,OAAO,KAAKJ,MAAL,CAAYD,EAAEG,MAAd,CAAb;AACA,iBAAKF,MAAL,CAAYD,EAAEG,MAAd,IAAwBG,OAAOC,MAAP,CAAc,EAAd,EAAkBF,IAAlB,EAAwB;AAC5CG,yBAAS,CAACH,KAAKG;AAD6B,aAAxB,CAAxB;AAGA,iBAAKJ,eAAL;AACH;;;mCAEU;AACP,gBAAG,KAAKT,MAAL,CAAYc,KAAZ,CAAkBC,MAAlB,GAA2B,CAA9B,EAAgC;AAC5B,qBAAKT,MAAL,CAAYU,IAAZ,CAAiB,EAAEC,MAAM,KAAKjB,MAAL,CAAYc,KAApB,EAA2BD,SAAS,KAApC,EAAjB;AACA,qBAAKJ,eAAL;AACA,qBAAKT,MAAL,CAAYc,KAAZ,GAAoB,EAApB;AACH;AACJ;;;0CAEiB;AAAA;;AACd,iBAAKhB,SAAL,CAAeP,SAAf,GAA2B,EAA3B;;AAEA,iBAAKe,MAAL,CAAYY,OAAZ,CAAoB,UAACR,IAAD,EAAOS,KAAP,EAAiB;AACjC,oBAAIC,YAAY/B,SAASC,aAAT,CAAuB,YAAvB,CAAhB;AACA8B,0BAAUC,YAAV,CAAuB,MAAvB,EAA+BX,KAAKO,IAApC;;AAEA,oBAAGP,KAAKG,OAAR,EAAiB;AACbO,8BAAUC,YAAV,CAAuB,SAAvB,EAAkC,EAAlC;AACH;;AAEDD,0BAAUC,YAAV,CAAuB,OAAvB,EAAgCF,KAAhC;;AAEAC,0BAAUlB,gBAAV,CAA2B,UAA3B,EAAuC,OAAKoB,WAAL,CAAiBlB,IAAjB,CAAsB,MAAtB,CAAvC;AACAgB,0BAAUlB,gBAAV,CAA2B,UAA3B,EAAuC,OAAKqB,WAAL,CAAiBnB,IAAjB,CAAsB,MAAtB,CAAvC;;AAEA,uBAAKN,SAAL,CAAeH,WAAf,CAA2ByB,SAA3B;AACH,aAdD;AAeH;;;0BAESN,K,EAAO;AACb,iBAAKR,MAAL,GAAcQ,KAAd;AACA,iBAAKL,eAAL;AACH,S;4BAEW;AACR,mBAAO,KAAKH,MAAZ;AACH;;;;EA7DiBkB,W;;AAgEtBC,OAAOC,cAAP,CAAsBC,MAAtB,CAA6B,WAA7B,EAA0CnC,OAA1C","file":"to-do-app.js","sourcesContent":["import 'static/components/part-one/src/to-do-item.js';\n\nconst template = document.createElement('template');\ntemplate.innerHTML = `\n    <style>\n        :host {\n            display: block;\n            font-family: sans-serif;\n            text-align: center;\n        }\n\n        button {\n            border: none;\n            cursor: pointer;\n        }\n\n        ul {\n            list-style: none;\n            padding: 0;\n        }\n    </style>\n    <h3>Raw web components</h3>\n    <br>\n    <h1>To do</h1>\n    <form id=\"todo-input\">\n        <input type=\"text\" placeholder=\"Add a new to do\"></input>\n        <button>âœ…</button>\n    </form>\n\n    <ul id=\"todos\"></ul>\n`;\n\nclass TodoApp extends HTMLElement {\n    constructor() {\n        super();\n        this._shadowRoot = this.attachShadow({ 'mode': 'open' });\n        this._shadowRoot.appendChild(template.content.cloneNode(true));\n\n        this.$todoList = this._shadowRoot.querySelector('ul');\n        this.$input = this._shadowRoot.querySelector('input');\n\n        this.$submitButton = this._shadowRoot.querySelector('button');\n        this.$submitButton.addEventListener('click', this._addTodo.bind(this));\n    }\n\n    _removeTodo(e) {\n        this._todos.splice(e.detail, 1);\n        this._renderTodoList();\n    }\n\n    _toggleTodo(e) {\n        const todo = this._todos[e.detail];\n        this._todos[e.detail] = Object.assign({}, todo, {\n            checked: !todo.checked\n        });\n        this._renderTodoList();\n    }\n\n    _addTodo() {\n        if(this.$input.value.length > 0){\n            this._todos.push({ text: this.$input.value, checked: false })\n            this._renderTodoList();\n            this.$input.value = '';\n        }\n    }\n\n    _renderTodoList() {\n        this.$todoList.innerHTML = '';\n\n        this._todos.forEach((todo, index) => {\n            let $todoItem = document.createElement('to-do-item');\n            $todoItem.setAttribute('text', todo.text);\n\n            if(todo.checked) {\n                $todoItem.setAttribute('checked', '');\n            }\n\n            $todoItem.setAttribute('index', index);\n            \n            $todoItem.addEventListener('onRemove', this._removeTodo.bind(this));\n            $todoItem.addEventListener('onToggle', this._toggleTodo.bind(this));\n\n            this.$todoList.appendChild($todoItem);\n        });\n    }\n\n    set todos(value) {\n        this._todos = value;\n        this._renderTodoList();\n    }\n\n    get todos() {\n        return this._todos;\n    }\n}\n\nwindow.customElements.define('to-do-app', TodoApp);\n"]}