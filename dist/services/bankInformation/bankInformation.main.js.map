{"version":3,"sources":["../../../src/services/bankInformation/bankInformation.main.js"],"names":["request","require","informationBank","BankInformationMain","bankInformationXML_URL","getInformationXML","error","response","body","console","log","parseInfo","e","xml","jsonData","parsedJsonData","JSON","parse","Object","freeze","length"],"mappings":";;;;;;;;AAAA;;;;;;;;AAEA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;;AAEA,IAAIC,wBAAJ,C,CAAqB;;IAEfC,mB;AAEF,iCAAYC,sBAAZ,EAAoC;AAAA;;AAChCD,4BAAoBE,iBAApB,CAAsCD,sBAAtC;AACH;;;;6CA6BoB;AACjB,mBAAOF,eAAP;AACH;;;0CA7BwBE,sB,EAAwB;;AAE7C,gBAAI;AACAJ,wBAAQI,sBAAR,EAAgC,UAAUE,KAAV,EAAiBC,QAAjB,EAA2BC,IAA3B,EAAiC;AAC7D;AACA,wBAAIF,KAAJ,EAAW,OAAOG,QAAQC,GAAR,CAAY,QAAZ,EAAsBJ,KAAtB,CAAP;AACXH,wCAAoBQ,SAApB,CAA8BH,IAA9B;AACH,iBAJD;AAKH,aAND,CAME,OAAOI,CAAP,EAAU;AACRH,wBAAQC,GAAR,CAAYE,CAAZ;AACH;AACJ;;;kCAEgBC,G,EAAK;AAClB,gBAAMC,WAAW,uBAAUD,GAAV,CAAjB;AACA,gBAAME,iBAAiBC,KAAKC,KAAL,CAAWH,QAAX,CAAvB;AACA,gBAAI,CAACC,eAAe,UAAf,CAAL,EAAiC,OAAON,QAAQC,GAAR,CAAY,6BAAZ,CAAP;AACjCR,8BAAkBgB,OAAOC,MAAP,CAAcJ,eAAe,UAAf,EAA2B,QAA3B,CAAd,CAAlB;AACAN,oBAAQC,GAAR,CAAY,mCAAZ,EAAiDK,eAAe,UAAf,EAA2B,QAA3B,EAAqCK,MAAtF;AACH;;;uCAEqB,CACrB;;;yCAEuB,CACvB;;;;;;kBAOUjB,mB","file":"bankInformation.main.js","sourcesContent":["import xmlToJson from './parser/xml-json'\n\nconst request = require('request');\n\nlet informationBank; // hold initial parsed XML to JSON data\n\nclass BankInformationMain {\n\n    constructor(bankInformationXML_URL) {\n        BankInformationMain.getInformationXML(bankInformationXML_URL);\n    }\n\n    static getInformationXML(bankInformationXML_URL) {\n\n        try {\n            request(bankInformationXML_URL, function (error, response, body) {\n                // Print the error if one occurred\n                if (error) return console.log('error:', error);\n                BankInformationMain.parseInfo(body);\n            });\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    static parseInfo(xml) {\n        const jsonData = xmlToJson(xml);\n        const parsedJsonData = JSON.parse(jsonData);\n        if (!parsedJsonData['BRANCHES']) return console.log('error: XML parsing mismatch');\n        informationBank = Object.freeze(parsedJsonData['BRANCHES']['BRANCH']);\n        console.log('parsed XML : OK && items parsed: ', parsedJsonData['BRANCHES']['BRANCH'].length);\n    }\n\n    static byBankNumber() {\n    }\n\n    static byBranchNumber() {\n    }\n\n    getInformationBank() {\n        return informationBank;\n    }\n}\n\nexport default BankInformationMain;\n"]}